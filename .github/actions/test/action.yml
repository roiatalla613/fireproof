name: Test
description: "Setup and test"

runs:
  using: "composite"
  steps:
    - uses: actions/setup-node@v4
      with:
        node-version: 20

    - uses: pnpm/action-setup@v2
      name: Install pnpm
      with:
        run_install: false
        version: 9

    - run install
      shell: pnpm install
 
    - run format-check
      shell: pnpm run format --check

    - run lint
      shell: pnpm run lint

    - run build
      shell: pnpm run build

    - run: test
      shell: pnpm run test


        uses: actions/setup-node@v4
        with:
          node-version: ${{ matrix.node-version }}

      - uses: denoland/setup-deno@v1
        with:
          deno-version: v1.x

